{"version":3,"sources":["components/CatalogItem/CatalogItem.module.css","pages/User/User.module.css","components/Navigation/Navigation.module.css","components/ButtonAddProduct/ButtonAddProduct.module.css","components/InputPlaces/InputPlaces.module.css","pages/Cart/Cart.module.css","components/OrderItem/OrderItem.module.css","pages/CatalogItemPage/CatalogItemPage.module.css","components/Input/Input.module.css","hooks/usePersistedState/index.ts","pages/Cart/CartSuccessfullOrder/CartSuccessfullOrder.module.css","components/CurrencyDropdown/CurrencyDropdown.module.css","components/Layout/Layout.module.css","components/Title/Title.module.css","components/CatalogCategory/CatalogCategory.module.css","components/PrimaryButton/PrimaryButton.module.css","components/Form/Form.module.css","pages/Login/Login.module.css","pages/OrderPage/OrderPageInfo/OrderPageInfo.module.css","pages/OrderPage/OrderPage.module.css","hooks/usePersistedState/createStorage.ts","components/Loader/Loader.module.css","pages/Catalog/Catalog.module.css","components/FormHeader/FormHeader.module.css","hooks/usePersistedState/createGlobalState.ts","hooks/usePersistedState/usePersistedState.ts","hooks/useAuth.ts","hooks/useFetcher.ts","routes/ProtectedRoute.tsx","routes/PublicRoute.tsx","components/Loader/Loader.tsx","components/Layout/Layout.tsx","components/Title/Title.tsx","hooks/useCurrency.ts","hooks/useCart.ts","components/ButtonAddProduct/assets/minusIcon.svg","components/ButtonAddProduct/assets/plusIcon.svg","components/ButtonAddProduct/ButtonAddProduct.tsx","constants.ts","components/CurrentCurrencyIcon/CurrentCurrencyIcon.tsx","components/CatalogItem/CatalogItem.tsx","components/CatalogCategory/CatalogCategory.tsx","pages/Catalog/Catalog.tsx","pages/CatalogItemPage/CatalogItemPage.tsx","helpers/getPrice.ts","components/Input/Input.tsx","components/InputPlaces/InputPlaces.tsx","components/FormHeader/FormHeader.tsx","components/PrimaryButton/PrimaryButton.tsx","components/Form/Form.tsx","components/CreateOrderForm/CreateOrderForm.tsx","pages/Cart/CartSuccessfullOrder/assets/pizza.svg","pages/Cart/CartSuccessfullOrder/CartSuccessfullOrder.tsx","pages/Cart/Cart.tsx","pages/Login/Login.tsx","helpers/getFormatedDate.ts","pages/OrderPage/OrderPageInfo/OrderPageInfo.tsx","pages/OrderPage/OrderPage.tsx","components/OrderItem/OrderItem.tsx","pages/User/User.tsx","components/CurrencyDropdown/CurrencyDropdown.tsx","components/Navigation/assets/basketIcon.svg","components/Navigation/Navigation.tsx","App.tsx","index.tsx"],"names":["module","exports","createPersistedState","key","provider","global","localStorage","storage","createStorage","initialState","usePersistedState","useState","get","defaultValue","json","getItem","JSON","parse","set","value","setItem","stringify","globalState","createGlobalState","thisCallback","initialValue","callbacks","push","deregister","arr","index","indexOf","splice","emit","forEach","callback","useRef","state","setState","useEventListener","k","newValue","newState","useEffect","current","persistentSetState","useCallback","newStateValue","useAuthState","useAuth","useCookies","cookies","Boolean","user","isAuthorised","setIsAuthorised","toggleAuthorised","newAuthState","clearAuth","useFetcher","input","init","a","fetch","headers","Accept","credentials","res","status","Error","ok","includes","text","ProtectedRoute","Component","component","path","exact","render","props","to","pathname","from","location","PublicRoute","Loader","className","style","Layout","url","children","useSWR","data","error","message","Title","size","ligthClass","light","TitleElement","useCurrencyState","useCurrency","currency","setCurrency","toggleCurrency","newCurrency","clearCurrency","useCartState","useCart","cart","setCart","addProductToCart","id","currentCart","removeProductFromCart","newValues","clearCart","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","viewBox","ref","ForwardRef","forwardRef","ButtonAddProduct","ligth","customClassName","isEmpty","styles","isLigth","propsClassName","onClick","currencyMap","usd","eur","phonePattern","emailPattern","CurrentCurrencyIcon","CatalogItem","name","src","price_usd","price_eur","quantity","isRow","isOrder","rowClass","fullLinkClass","alt","CatalogCategory","category","filter","item","type","map","Catalog","products","CatalogItemPage","match","params","productId","product","description","getDeliveryCost","delivery","delivery_usd","delivery_eur","getOrderPrice","orderItems","priceKey","deliveryCost","reduce","price","Input","rules","errorMessages","useFormContext","errors","register","isError","htmlFor","InputPlaces","usePlacesAutocomplete","debounce","ready","suggestions","setValue","clearSuggestions","useOnclickOutside","handleSelect","errorClass","onChange","e","disabled","suggestion","structured_formatting","main_text","secondary_text","FormHeader","header","PrimaryButton","propClass","propStyle","Form","onSubmit","submitButtonText","methods","useForm","handleSubmit","CreateOrderForm","serverError","required","pattern","fill","_ref5","_ref6","_ref7","_ref8","_ref9","cx","cy","r","_ref10","_ref11","_ref12","CartSuccessfullOrder","Cart","fetcher","isSuccessfullOrder","serIsSuccessfullOrder","setServerError","urlGetProducts","join","dataProducts","dataProductsError","dataDelivery","dataDeliveryError","order","orders","entries","method","body","getCartPrice","Login","history","useHistory","cameFrom","search","replace","getFormatedDate","date","resDate","Date","month","getMonth","getDate","getFullYear","OrderPageInfo","OrderPage","orderId","order_date","order_items","user_address","OrderItem","User","removeCookie","dataUser","dataError","dataOrders","errorOrders","email","CurrencyDropdown","isOpened","setIsOpened","handleClickOutside","event","contains","document","addEventListener","removeEventListener","val","Navigation","App","CookiesProvider","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.904d9d35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"catalog-item\":\"CatalogItem_catalog-item__1qMJU\",\"catalog-item-row\":\"CatalogItem_catalog-item-row__VyXJp\",\"catalog-item-img-wrapper\":\"CatalogItem_catalog-item-img-wrapper__2H_Mc\",\"catalog-item-img\":\"CatalogItem_catalog-item-img__6fFmj\",\"catalog-item-link\":\"CatalogItem_catalog-item-link__3cn9s\",\"catalog-item-description\":\"CatalogItem_catalog-item-description__1_5XM\",\"catalog-item-name-wrapper\":\"CatalogItem_catalog-item-name-wrapper__3WILL\",\"catalog-item-name\":\"CatalogItem_catalog-item-name__18QKr\",\"catalog-item-full-link\":\"CatalogItem_catalog-item-full-link__3Cv5J\",\"catalog-item-quantity\":\"CatalogItem_catalog-item-quantity__3orUN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2CQna grid_grid-center__148vV\",\"user-center\":\"User_user-center__2nphX\",\"user-info\":\"User_user-info__1Bmkh\",\"user-info-row-name\":\"User_user-info-row-name__E89Ob\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__1VtLy\",\"navigation-inner\":\"Navigation_navigation-inner__HVzr2 grid_grid-center__148vV\",\"navigation-logo\":\"Navigation_navigation-logo__25OeF\",\"navigation-cart\":\"Navigation_navigation-cart__3WUJx\",\"navigation-cart-icon-wrapper\":\"Navigation_navigation-cart-icon-wrapper__14rzh\",\"navigation-cart-icon\":\"Navigation_navigation-cart-icon__11jvH\",\"navigation-cart-counter\":\"Navigation_navigation-cart-counter__37dfh\",\"navigation-link\":\"Navigation_navigation-link__nBeE7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button-add-product\":\"ButtonAddProduct_button-add-product__2cJfF\",\"button-add-product-empty\":\"ButtonAddProduct_button-add-product-empty__tJYl2\",\"button-add-product-light\":\"ButtonAddProduct_button-add-product-light__29eAN\",\"button-add-product-icon-wrapper\":\"ButtonAddProduct_button-add-product-icon-wrapper__1Q7FG\",\"button-add-product-icon\":\"ButtonAddProduct_button-add-product-icon__egFcc\",\"button-add-product-number\":\"ButtonAddProduct_button-add-product-number__10GLT\",\"catalog-item-page-button\":\"ButtonAddProduct_catalog-item-page-button__3GVli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input-places\":\"InputPlaces_input-places__2eKUe\",\"input-places-input\":\"InputPlaces_input-places-input__ky2-5\",\"input-places-error\":\"InputPlaces_input-places-error__3o76w\",\"input-places-label\":\"InputPlaces_input-places-label__2nTsp\",\"input-places-error-message\":\"InputPlaces_input-places-error-message__18PCn\",\"input-places-suggestions-wrapper\":\"InputPlaces_input-places-suggestions-wrapper__1u-N3\",\"input-places-suggestion\":\"InputPlaces_input-places-suggestion__2KlgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__3jxrl grid_grid-center__148vV\",\"cart-list\":\"Cart_cart-list__187jb\",\"cart-server-error\":\"Cart_cart-server-error__3gUlx\",\"cart-info\":\"Cart_cart-info__2y9vD\",\"cart-info-title\":\"Cart_cart-info-title__2W0aw\",\"cart-loader\":\"Cart_cart-loader__32qdh\",\"cart-error\":\"Cart_cart-error__2ciUI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order-item\":\"OrderItem_order-item__3hH0W\",\"order-item-link\":\"OrderItem_order-item-link__29xiX\",\"order-item-row\":\"OrderItem_order-item-row__1l32I\",\"order-item-row-title\":\"OrderItem_order-item-row-title__3ZTTA\",\"order-item-price\":\"OrderItem_order-item-price__z3AGW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"catalog-item-page\":\"CatalogItemPage_catalog-item-page__ouiBc grid_grid-center__148vV\",\"catalog-item-page-img-wrapper\":\"CatalogItemPage_catalog-item-page-img-wrapper__3iK9j\",\"catalog-item-page-img\":\"CatalogItemPage_catalog-item-page-img__34noC\",\"catalog-item-page-name-wrapper\":\"CatalogItemPage_catalog-item-page-name-wrapper__1-8bB\",\"catalog-item-page-pricing-wrapper\":\"CatalogItemPage_catalog-item-page-pricing-wrapper__1Klfo\",\"catalog-item-page-price\":\"CatalogItemPage_catalog-item-page-price__G65SY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3PNbO\",\"input-input\":\"Input_input-input__3HqYa\",\"input-error\":\"Input_input-error__3CNnF\",\"input-label\":\"Input_input-label__2UXPB\",\"input-error-message\":\"Input_input-error-message__2mvcT\"};","import { useState } from \"react\";\n\nimport usePersistedState from \"./usePersistedState\";\nimport createStorage from \"./createStorage\";\n\nconst createPersistedState = (key: string, provider = global.localStorage) => {\n  if (provider) {\n    const storage = createStorage(provider);\n    return (initialState: any) => usePersistedState(initialState, key, storage);\n  }\n  return useState;\n};\n\nexport default createPersistedState;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-successfull-order\":\"CartSuccessfullOrder_cart-successfull-order__x46u5\",\"cart-successfull-order-text\":\"CartSuccessfullOrder_cart-successfull-order-text__2OoyE\",\"cart-successfull-order-icon\":\"CartSuccessfullOrder_cart-successfull-order-icon__30d7x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currency-dropdown\":\"CurrencyDropdown_currency-dropdown__5tnK7\",\"currency-dropdown-list\":\"CurrencyDropdown_currency-dropdown-list__2l6Xk\",\"currency-dropdown-preview\":\"CurrencyDropdown_currency-dropdown-preview__2XFU8\",\"currency-dropdown-list-item\":\"CurrencyDropdown_currency-dropdown-list-item__1TMKO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout-grid\":\"Layout_layout-grid__3_lQa grid_grid-center__148vV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title-h1\":\"Title_title-h1__3i-Vh\",\"title-h2\":\"Title_title-h2__f1ckY\",\"title-h3\":\"Title_title-h3__Oklr0\",\"title-light\":\"Title_title-light__DOYxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"catalog-category\":\"CatalogCategory_catalog-category__2Y7AA\",\"catalog-category-wrapper\":\"CatalogCategory_catalog-category-wrapper__2ZwpH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary-button\":\"PrimaryButton_primary-button__hTpEY\",\"user-button\":\"PrimaryButton_user-button__1HXtn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2TM1N\",\"server-error\":\"Form_server-error__14Yhb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3IC9Q grid_grid-center__148vV\",\"login-form\":\"Login_login-form__1oAzn\",\"login-error\":\"Login_login-error__2J0xo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order-page-info\":\"OrderPageInfo_order-page-info__2y7Tw\",\"order-page-info-title\":\"OrderPageInfo_order-page-info-title__ThbmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order-page\":\"OrderPage_order-page__39fE2 grid_grid-center__148vV\",\"order-page-title\":\"OrderPage_order-page-title__3r145\"};","const createStorage = (provider: Storage) => ({\n  get(key: string, defaultValue: any) {\n    const json = provider.getItem(key);\n    // eslint-disable-next-line no-nested-ternary\n    return json === null\n      ? typeof defaultValue === \"function\"\n        ? defaultValue()\n        : defaultValue\n      : JSON.parse(json);\n  },\n  set(key: string, value: any) {\n    provider.setItem(key, JSON.stringify(value));\n  },\n});\n\nexport default createStorage;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"catalog\":\"Catalog_catalog__2RFAM grid_grid-center__148vV\",\"catalog-items-wrapper\":\"Catalog_catalog-items-wrapper__1GIPn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-header\":\"FormHeader_form-header__Ufwsa\"};","const globalState: { [key: string]: any } = {};\n\nconst createGlobalState = (\n  key: string,\n  thisCallback: (...args: any) => any,\n  initialValue: any\n) => {\n  if (!globalState[key]) {\n    globalState[key] = { callbacks: [], value: initialValue };\n  }\n  globalState[key].callbacks.push(thisCallback);\n  return {\n    deregister() {\n      const arr = globalState[key].callbacks;\n      const index = arr.indexOf(thisCallback);\n      if (index > -1) {\n        arr.splice(index, 1);\n      }\n    },\n    emit(value: any) {\n      if (globalState[key].value !== value) {\n        globalState[key].value = value;\n        globalState[key].callbacks.forEach(\n          (callback: (...args: any) => any) => {\n            if (thisCallback !== callback) {\n              callback(value);\n            }\n          }\n        );\n      }\n    },\n  };\n};\n\nexport default createGlobalState;\n","//I copied a library code, since there was a bug, that wasn't fixed yet\n//https://github.com/donavon/use-persisted-state\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport useEventListener from \"@use-it/event-listener\";\n\nimport createGlobalState from \"./createGlobalState\";\n\nconst usePersistedState = (\n  initialState: any,\n  key: string,\n  { get, set }: { get: (...args: any) => any; set: (...args: any) => any }\n) => {\n  const globalState = useRef<any>(null);\n  const [state, setState] = useState(() => get(key, initialState));\n\n  // subscribe to `storage` change events\n  useEventListener(\"storage\", ({ key: k, newValue }: any) => {\n    if (k === key) {\n      const newState = JSON.parse(newValue);\n      if (state !== newState) {\n        setState(newState);\n      }\n    }\n  });\n\n  // only called on mount\n  useEffect(() => {\n    // register a listener that calls `setState` when another instance emits\n    globalState.current = createGlobalState(key, setState, initialState);\n\n    return () => {\n      globalState.current.deregister();\n    };\n  }, [initialState, key]);\n\n  const persistentSetState = useCallback(\n    (newState) => {\n      const newStateValue =\n        typeof newState === \"function\" ? newState(state) : newState;\n\n      // persist to localStorage\n      set(key, newStateValue);\n\n      setState(newStateValue);\n\n      // inform all of the other instances in this tab\n      globalState.current.emit(newState);\n    },\n    [state, set, key]\n  );\n\n  return [state, persistentSetState];\n};\n\nexport default usePersistedState;\n","import { useCookies } from \"react-cookie\";\nimport createPersistedState from \"./usePersistedState\";\nconst useAuthState = createPersistedState(\"isAuthorised\");\n\nconst useAuth = () => {\n  const [cookies] = useCookies([\"user\"]);\n  const [isAuthorised, setIsAuthorised] = useAuthState(Boolean(cookies.user));\n\n  return {\n    isAuthorised,\n    toggleAuthorised: (newAuthState: boolean) => setIsAuthorised(newAuthState),\n    clearAuth: () => setIsAuthorised(false),\n  };\n};\n\nexport default useAuth;\n","import useAuth from \"./useAuth\";\n\nexport const BASE_URL =\n  process.env.NODE_ENV === \"production\" ? \"/api\" : \"http://localhost:5000/api\";\n\nexport function useFetcher() {\n  const { clearAuth } = useAuth();\n\n  return async function fetcher(input: string, init?: RequestInit | undefined) {\n    const res = await fetch(BASE_URL + input, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"include\",\n      ...init,\n    });\n\n    if (res.status === 403 || res.status === 401) {\n      clearAuth();\n      throw new Error(\"Please login first!\");\n    }\n\n    if (!res.ok) {\n      throw new Error(\"Something went wrong!\");\n    }\n\n    if (res.headers?.get(\"content-type\")?.includes(\"application/json\")) {\n      return await res.json();\n    } else {\n      return await res.text();\n    }\n  };\n}\n","import React, { ComponentType } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport useAuth from \"../hooks/useAuth\";\n\ntype TProps = {\n  component: ComponentType<any>;\n  path: string;\n  exact?: boolean;\n};\n\nexport function ProtectedRoute({ component: Component, path, exact }: TProps) {\n  const { isAuthorised } = useAuth();\n\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={(props) => {\n        if (isAuthorised) {\n          return <Component {...props} />;\n        }\n\n        return (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: {\n                from: props.location,\n              },\n            }}\n          />\n        );\n      }}\n    />\n  );\n}\n","import React, { ReactType } from \"react\";\nimport { Route, Redirect, RouteComponentProps } from \"react-router-dom\";\nimport useAuth from \"../hooks/useAuth\";\n\nexport function PublicRoute({\n  component: Component,\n  path,\n  exact,\n}: {\n  component: ReactType<RouteComponentProps>;\n  path: string;\n  exact?: boolean;\n}) {\n  const { isAuthorised } = useAuth();\n\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={(props) => {\n        if (!isAuthorised) {\n          return (\n            <>\n              <Component {...props} />\n            </>\n          );\n        } else {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/user\",\n                state: {\n                  from: props.location,\n                },\n              }}\n            />\n          );\n        }\n      }}\n    />\n  );\n}\n","import React from \"react\";\nimport style from \"./Loader.module.css\";\n\nexport function Loader() {\n  return (\n    <div className={style[\"loader\"]}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport useSWR from \"swr\";\nimport { Loader } from \"../Loader/Loader\";\nimport style from \"./Layout.module.css\";\n\ntype TProps<T> = {\n  url: string;\n  children(data: T): ReactNode;\n};\n\nexport function Layout<TData>({ url, children }: TProps<TData>) {\n  const { data, error } = useSWR(url);\n\n  if (error) {\n    return <div className={style[\"layout-grid\"]}>{error.message}</div>;\n  }\n\n  if (data) {\n    return <>{children(data)}</>;\n  }\n\n  return (\n    <div className={style[\"layout-grid\"]}>\n      <Loader />\n    </div>\n  );\n}\n","import React from \"react\";\nimport style from \"./Title.module.css\";\n\ntype TProps = {\n  size: \"first\" | \"second\" | \"third\";\n  text: string;\n  light?: boolean;\n};\n\nexport function Title({ size, text, light }: TProps) {\n  const ligthClass = light ? style[\"title-light\"] : \"\";\n  let TitleElement: keyof JSX.IntrinsicElements = \"h1\";\n\n  switch (size) {\n    case \"second\":\n      TitleElement = \"h2\";\n      break;\n    case \"third\":\n      TitleElement = \"h3\";\n  }\n\n  return (\n    <TitleElement className={`${style[`title-${TitleElement}`]} ${ligthClass}`}>\n      {text}\n    </TitleElement>\n  );\n}\n","import { Dispatch, SetStateAction } from \"react\";\nimport createPersistedState from \"./usePersistedState\";\nimport { TCurrency } from \"../types\";\n\nconst useCurrencyState = createPersistedState(\"currency\") as (\n  initialState: TCurrency\n) => [TCurrency, Dispatch<SetStateAction<TCurrency>>];\n\nconst useCurrency = (initialState: TCurrency = \"usd\") => {\n  const [currency, setCurrency] = useCurrencyState(initialState);\n\n  return {\n    currency,\n    toggleCurrency: (newCurrency: TCurrency) =>\n      setCurrency(() => {\n        return newCurrency;\n      }),\n    clearCurrency: () => setCurrency(\"usd\"),\n  };\n};\n\nexport default useCurrency;\n","import createPersistedState from \"./usePersistedState\";\n\nconst useCartState = createPersistedState(\"cart\");\n\nconst useCart = (initialState: { [key: string]: number } = {}) => {\n  const [cart, setCart] = useCartState(initialState);\n\n  return {\n    cart,\n    addProductToCart: (id: string) =>\n      setCart((currentCart: { [key: string]: number }) => {\n        return {\n          ...currentCart,\n          [id]: currentCart[id] ? currentCart[id] + 1 : 1,\n        };\n      }),\n    removeProductFromCart: (id: string) =>\n      setCart((currentCart: { [key: string]: number }) => {\n        if (currentCart[id] > 1) {\n          return { ...currentCart, [id]: currentCart[id] - 1 };\n        }\n\n        const newValues = { ...currentCart };\n        delete newValues[id];\n        return newValues;\n      }),\n    clearCart: () => setCart({}),\n  };\n};\n\nexport default useCart;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M437.332.168H32c-17.664 0-32 14.336-32 32V53.5c0 17.664 14.336 32 32 32h405.332c17.664 0 32-14.336 32-32V32.168c0-17.664-14.336-32-32-32zm0 0\"\n});\n\nvar SvgMinusIcon = function SvgMinusIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 -192 469.333 469\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMinusIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/minusIcon.b80e862b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M408 184H272a8 8 0 01-8-8V40c0-22.09-17.91-40-40-40s-40 17.91-40 40v136a8 8 0 01-8 8H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h136a8 8 0 018 8v136c0 22.09 17.91 40 40 40s40-17.91 40-40V272a8 8 0 018-8h136c22.09 0 40-17.91 40-40s-17.91-40-40-40zm0 0\"\n});\n\nvar SvgPlusIcon = function SvgPlusIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 448 448\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlusIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/plusIcon.effe9161.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport useCart from \"../../hooks/useCart\";\nimport { ReactComponent as MinusIcon } from \"./assets/minusIcon.svg\";\nimport { ReactComponent as PlusIcon } from \"./assets/plusIcon.svg\";\nimport styles from \"./ButtonAddProduct.module.css\";\n\ntype TProps = {\n  id: string;\n  ligth?: boolean;\n  customClassName?: string;\n};\n\nexport function ButtonAddProduct({ id, ligth, customClassName }: TProps) {\n  const cart = useCart();\n\n  const isEmpty = cart.cart[id] > 0 ? \"\" : styles[\"button-add-product-empty\"];\n  const isLigth = ligth ? styles[\"button-add-product-light\"] : \"\";\n  const propsClassName = customClassName ? styles[customClassName] : \"\";\n\n  return (\n    <div\n      className={`${styles[\"button-add-product\"]} ${isEmpty} ${isLigth} ${propsClassName}`}\n    >\n      <div\n        onClick={() => cart.removeProductFromCart(id)}\n        className={styles[\"button-add-product-icon-wrapper\"]}\n      >\n        <MinusIcon className={styles[\"button-add-product-icon\"]} />\n      </div>\n      <div className={styles[\"button-add-product-number\"]}>{cart.cart[id]}</div>\n      <div\n        onClick={() => cart.addProductToCart(id)}\n        className={styles[\"button-add-product-icon-wrapper\"]}\n      >\n        <PlusIcon className={styles[\"button-add-product-icon\"]} />\n      </div>\n    </div>\n  );\n}\n","import { TCurrency } from \"./types\";\n\nexport const currencyMap: { [key in TCurrency]: string } = {\n  usd: \"$\",\n  eur: \"€\",\n};\n\nexport const phonePattern = /^((\\+7|7|8)+([0-9]){10})$/;\n\nexport const emailPattern = /[^@]+@[^.]+\\..+/g;\n","import React from \"react\";\nimport { currencyMap } from \"../../constants\";\nimport useCurrency from \"../../hooks/useCurrency\";\n\nexport function CurrentCurrencyIcon() {\n  const { currency } = useCurrency();\n\n  return <span className=\"CurrentCurrencyIcon\">{currencyMap[currency]}</span>;\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { ButtonAddProduct } from \"../ButtonAddProduct/ButtonAddProduct\";\nimport { CurrentCurrencyIcon } from \"../CurrentCurrencyIcon/CurrentCurrencyIcon\";\nimport styles from \"./CatalogItem.module.css\";\n\ntype TProps = {\n  id: string;\n  name: string;\n  src: string;\n  price_usd: number;\n  price_eur: number;\n  quantity?: number;\n  isRow?: boolean;\n  isOrder?: boolean;\n};\n\nexport function CatalogItem({\n  id,\n  name,\n  src,\n  price_usd,\n  price_eur,\n  quantity,\n  isRow,\n  isOrder,\n}: TProps) {\n  const { currency } = useCurrency();\n\n  const rowClass = isRow ? styles[\"catalog-item-row\"] : \"\";\n\n  const fullLinkClass = isOrder ? styles[\"catalog-item-full-link\"] : \"\";\n\n  return (\n    <div className={`${styles[\"catalog-item\"]} ${rowClass} ${fullLinkClass}`}>\n      <div className={styles[\"catalog-item-img-wrapper\"]}>\n        <img src={src} alt={name} className={styles[\"catalog-item-img\"]} />\n        {!isOrder && (\n          <Link\n            to={`/product/${id}`}\n            className={styles[\"catalog-item-link\"]}\n          ></Link>\n        )}\n      </div>\n      <div className={styles[\"catalog-item-description\"]}>\n        <div className={styles[\"catalog-item-name-wrapper\"]}>\n          <div className={styles[\"catalog-item-name\"]}>{name}</div>\n          {!isOrder && <ButtonAddProduct id={id} />}\n          {isOrder && (\n            <div className={styles[\"catalog-item-quantity\"]}>x {quantity}</div>\n          )}\n        </div>\n        <div className={styles[\"catalog-item-description-price-wrapper\"]}>\n          <div className={styles[\"catalog-item-price\"]}>\n            {currency === \"usd\" ? price_usd : price_eur} <CurrentCurrencyIcon />\n          </div>\n        </div>\n        {isOrder && (\n          <Link\n            to={`/product/${id}`}\n            className={styles[\"catalog-item-link\"]}\n          ></Link>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { TProduct } from \"../../types\";\nimport { Title } from \"../Title/Title\";\nimport { CatalogItem } from \"../../components/CatalogItem/CatalogItem\";\nimport style from \"./CatalogCategory.module.css\";\n\ntype TProps = {\n  title: string;\n  category: string;\n  data: TProduct[];\n};\n\nexport function CatalogCategory({ title, category, data }: TProps) {\n  return (\n    <div className={style[\"catalog-category\"]}>\n      <Title size=\"third\" text={title} />\n      <div className={style[\"catalog-category-wrapper\"]}>\n        {data\n          .filter((item) => item.type === category)\n          .map(({ ...item }) => (\n            <CatalogItem key={item.id} {...item} />\n          ))}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Layout } from \"../../components/Layout/Layout\";\nimport { Title } from \"../../components/Title/Title\";\nimport { CatalogCategory } from \"../../components/CatalogCategory/CatalogCategory\";\nimport { TProductsData } from \"../../types\";\nimport style from \"./Catalog.module.css\";\n\nexport function Catalog() {\n  return (\n    <Layout<TProductsData> url=\"/product\">\n      {(data) => (\n        <div className={style[\"catalog\"]}>\n          <Title size=\"second\" text=\"Menu\" />\n          <CatalogCategory\n            title=\"Pizza\"\n            category=\"pizza\"\n            data={data.products}\n          />\n          <CatalogCategory\n            title=\"Drinks\"\n            category=\"drink\"\n            data={data.products}\n          />\n        </div>\n      )}\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { Layout } from \"../../components/Layout/Layout\";\nimport { ButtonAddProduct } from \"../../components/ButtonAddProduct/ButtonAddProduct\";\nimport { TProduct } from \"../../types\";\nimport style from \"./CatalogItemPage.module.css\";\nimport { Title } from \"../../components/Title/Title\";\nimport { CurrentCurrencyIcon } from \"../../components/CurrentCurrencyIcon/CurrentCurrencyIcon\";\n\ntype TProductData = {\n  product: TProduct;\n};\n\nexport function CatalogItemPage(\n  props: RouteComponentProps<{ productId: string }>\n) {\n  const { currency } = useCurrency();\n\n  return (\n    <Layout<TProductData> url={`/product/${props.match.params.productId}`}>\n      {({ product }) => (\n        <div className={style[\"catalog-item-page\"]}>\n          <div className={style[\"catalog-item-page-img-wrapper\"]}>\n            <img\n              src={product.src}\n              alt={product.name}\n              className={style[\"catalog-item-page-img\"]}\n            />\n            <div className={style[\"catalog-item-page-name-wrapper\"]}>\n              <Title size=\"first\" text={product.name} light={true} />\n              <p className={style[\"catalog-item-page-price\"]}>\n                {currency === \"usd\" ? product.price_usd : product.price_eur}{\" \"}\n                <CurrentCurrencyIcon />\n              </p>\n            </div>\n          </div>\n\n          <ButtonAddProduct\n            id={props.match.params.productId}\n            ligth={true}\n            customClassName=\"catalog-item-page-button\"\n          />\n\n          <p className={style[\"catalog-item-page-description\"]}>\n            {product.description}\n          </p>\n        </div>\n      )}\n    </Layout>\n  );\n}\n","import { TOrderItem, TProduct, TCurrency, TDelivery } from \"../types\";\n\nfunction getDeliveryCost(\n  delivery: { delivery_usd: number; delivery_eur: number },\n  currency: TCurrency\n) {\n  return currency === \"usd\" ? delivery.delivery_usd : delivery.delivery_eur;\n}\n\nexport function getOrderPrice(\n  orderItems: TOrderItem[],\n  currency: TCurrency,\n  delivery: number[]\n) {\n  const priceKey = currency === \"usd\" ? \"price_usd\" : \"price_eur\";\n  const [delivery_usd, delivery_eur] = delivery;\n  const deliveryCost = getDeliveryCost(\n    { delivery_usd, delivery_eur },\n    currency\n  );\n\n  return (\n    orderItems.reduce(\n      (price, item) => (price += item[priceKey] * item.quantity),\n      0\n    ) + deliveryCost\n  );\n}\n\nexport function getCartPrice(\n  products: TProduct[],\n  cart: { [key: string]: number },\n  currency: TCurrency,\n  delivery: TDelivery\n) {\n  const priceKey = currency === \"usd\" ? \"price_usd\" : \"price_eur\";\n  const { id, ...deliveryPrice } = delivery;\n  const deliveryCost = getDeliveryCost(deliveryPrice, currency);\n\n  return (\n    products.reduce(\n      (price, item) => (price += item[priceKey] * cart[item.id]),\n      0\n    ) + deliveryCost\n  );\n}\n","import React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport style from \"./Input.module.css\";\n\ntype TProps = {\n  name: string;\n  rules: object;\n  errorMessages?: { [key: string]: string };\n};\n\nexport function Input({ name, rules, errorMessages }: TProps) {\n  const { errors, register } = useFormContext();\n  const isError = errors[name] ? style[\"input-error\"] : \"\";\n\n  return (\n    <div className={`${style[\"input\"]} ${isError}`}>\n      <label htmlFor={name} className={style[\"input-label\"]}>\n        {name}\n      </label>\n      <input\n        id={name}\n        name={name}\n        ref={register(rules)}\n        className={style[\"input-input\"]}\n      />\n      {errors[name] && (\n        <>\n          {errors[name].type === \"required\" ? (\n            <span className={style[\"input-error-message\"]}>\n              This field is required\n            </span>\n          ) : (\n            <span className={style[\"input-error-message\"]}>\n              {errorMessages && errorMessages[errors[name].type]}\n            </span>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { ChangeEvent } from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport usePlacesAutocomplete from \"use-places-autocomplete\";\nimport useOnclickOutside from \"react-cool-onclickoutside\";\nimport style from \"./InputPlaces.module.css\";\n\ntype TProps = { name: string; rules: object };\n\nexport function InputPlaces({ name, rules }: TProps) {\n  const {\n    ready,\n    value,\n    suggestions: { status, data },\n    setValue,\n    clearSuggestions,\n  } = usePlacesAutocomplete({\n    debounce: 300,\n  });\n\n  const { errors, register } = useFormContext();\n\n  const ref = useOnclickOutside(() => {\n    clearSuggestions();\n  });\n\n  const handleInput = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n  };\n\n  const handleSelect = ({ description }: { description: string }) => () => {\n    setValue(description, false);\n    clearSuggestions();\n  };\n\n  const renderSuggestions = () =>\n    data.map((suggestion) => {\n      const {\n        id,\n        structured_formatting: { main_text, secondary_text },\n      } = suggestion;\n\n      return (\n        <li\n          key={id}\n          onClick={handleSelect(suggestion)}\n          className={style[\"input-places-suggestion\"]}\n        >\n          <strong>{main_text}</strong> <small>{secondary_text}</small>\n        </li>\n      );\n    });\n\n  const errorClass = errors[\"address\"] ? style[\"input-places-error\"] : \"\";\n\n  return (\n    <div ref={ref} className={`${style[\"input-places\"]} ${errorClass}`}>\n      <label htmlFor={name} className={style[\"input-places-label\"]}>\n        address\n      </label>\n      <input\n        id={name}\n        name={name}\n        value={value}\n        onChange={handleInput}\n        disabled={!ready}\n        className={style[\"input-places-input\"]}\n        ref={register(rules)}\n      />\n      {status === \"OK\" && (\n        <ul className={style[\"input-places-suggestions-wrapper\"]}>\n          {renderSuggestions()}\n        </ul>\n      )}\n      {errors[name] && (\n        <>\n          {errors[name].type === \"required\" && (\n            <span className={style[\"input-places-error-message\"]}>\n              This field is required\n            </span>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport style from \"./FormHeader.module.css\";\n\nexport function FormHeader({ header }: { header: string }) {\n  return <h2 className={style[\"form-header\"]}>{header}</h2>;\n}\n","import React from \"react\";\nimport style from \"./PrimaryButton.module.css\";\n\ntype TProps = {\n  text?: string;\n  type?: string;\n  onClick?: () => void;\n  propClass?: string;\n};\n\nexport function PrimaryButton({ text, type, onClick, propClass }: TProps) {\n  const propStyle = propClass ? style[propClass] : \"\";\n\n  return (\n    <input\n      type={type ? type : \"submit\"}\n      className={`${style[\"primary-button\"]} ${propStyle}`}\n      value={text}\n      onClick={onClick}\n    />\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport { useForm, SubmitHandler, FormProvider } from \"react-hook-form\";\nimport { FormHeader } from \"../FormHeader/FormHeader\";\nimport { PrimaryButton } from \"../PrimaryButton/PrimaryButton\";\nimport style from \"./Form.module.css\";\n\ntype TProps<T> = {\n  onSubmit: SubmitHandler<T>;\n  header?: string;\n  submitButtonText?: string;\n  children: ReactNode;\n  customClassName?: string;\n};\n\nexport function Form<TInputs>({\n  onSubmit,\n  header,\n  submitButtonText,\n  children,\n  customClassName,\n}: TProps<TInputs>) {\n  const methods = useForm<TInputs>();\n  const { handleSubmit } = methods;\n\n  const propsClassName = customClassName ? style[customClassName] : \"\";\n\n  return (\n    <FormProvider {...methods}>\n      <form\n        onSubmit={handleSubmit(onSubmit)}\n        className={`${style[\"form\"]} ${propsClassName}`}\n      >\n        {header && <FormHeader header={header} />}\n        {children}\n        <PrimaryButton text={submitButtonText} />\n      </form>\n    </FormProvider>\n  );\n}\n","import React from \"react\";\nimport { Input } from \"../../components/Input/Input\";\nimport { InputPlaces } from \"../../components/InputPlaces/InputPlaces\";\nimport { Form } from \"../../components/Form/Form\";\nimport { phonePattern } from \"../../constants\";\nimport style from \"./CreateOrderForm.module.css\";\n\ntype TInputs = {\n  name: string;\n  address: string;\n  phone: string;\n};\n\ntype TData = {\n  onSubmit: (data: TInputs) => Promise<void>;\n  serverError: boolean;\n};\n\nexport function CreateOrderForm({ onSubmit, serverError }: TData) {\n  return (\n    <Form<TInputs>\n      onSubmit={onSubmit}\n      header=\"Enter your delivery information\"\n      submitButtonText=\"Proceed\"\n      customClassName={serverError ? \"server-error\" : \"\"}\n    >\n      {serverError && (\n        <span className={style[\"cart-server-error\"]}>\n          Something went wrong, please try again\n        </span>\n      )}\n\n      <Input name=\"name\" rules={{ required: true }} />\n      <InputPlaces name=\"address\" rules={{ required: true }} />\n      <Input\n        name=\"phone\"\n        rules={{\n          required: true,\n          pattern: phonePattern,\n        }}\n        errorMessages={{\n          pattern: \"Please check your phone number\",\n        }}\n      />\n    </Form>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#b39a7c\",\n  d: \"M56 43H8l2-40h44z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#f3ac3c\",\n  d: \"M45 30h-3v5a2 2 0 01-4 0v-5h-4v2a2 2 0 01-4 0v-2H14l25.37-17.82A30.843 30.843 0 0145 30z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#806749\",\n  d: \"M13 43h38v8H13z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#ec455a\",\n  d: \"M60 56v5H46v-5h12zM18 56v5H4v-5h12z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#d9ccbc\",\n  d: \"M37 43l-.43 1.73A3.014 3.014 0 0133.66 47h-3.32a3.014 3.014 0 01-2.91-2.27L27 43z\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#ef8746\",\n  d: \"M51 30h-6a30.843 30.843 0 00-5.63-17.82l4.9-3.45A36.8 36.8 0 0151 30z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25,\n  cy: 28,\n  r: 2,\n  fill: \"#dd5528\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#dd5528\",\n  d: \"M35 21a3 3 0 01-3-3 2.82 2.82 0 01.09-.71l3.22-2.27h.01A3 3 0 0135 21z\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#cc7400\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28 23h2v2h-2zM39 22h2v2h-2zM33 26h2v2h-2z\"\n}));\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#f09898\",\n  d: \"M17 49.47V52l-1 2v2H6l-1-4-1.323-1.98A4.006 4.006 0 013 47.79V38.4a4.15 4.15 0 01.08-.79l1.6-8A2 2 0 016.64 28H7a2 2 0 012 2v11.47a1.55 1.55 0 001.79-.46l1.98-2.47a2.142 2.142 0 013.71 2.01L15.66 43l-.4 1.21a1.982 1.982 0 00.11 1.53l1.42 2.84a1.991 1.991 0 01.21.89zM47 49.47V52l1 2v2h10l1-4 1.33-1.99A3.973 3.973 0 0061 47.8v-9.4a4.15 4.15 0 00-.08-.79l-1.6-8A2 2 0 0057.36 28H57a2 2 0 00-2 2v11.47a1.55 1.55 0 01-1.79-.46l-1.98-2.47a2.142 2.142 0 00-3.71 2.01l.82 2.45.4 1.21a1.982 1.982 0 01-.11 1.53l-1.42 2.84a1.991 1.991 0 00-.21.89z\"\n});\n\nvar SvgPizza = function SvgPizza(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 64 64\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPizza, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pizza.164f13a5.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as PizzaIcon } from \"./assets/pizza.svg\";\nimport style from \"./CartSuccessfullOrder.module.css\";\n\nexport function CartSuccessfullOrder() {\n  return (\n    <div className={style[\"cart-successfull-order\"]}>\n      <div className={style[\"cart-successfull-order-text\"]}>\n        Thank you for your order!\n      </div>\n      <div className={style[\"cart-successfull-order-text\"]}>\n        It's coming soon!\n      </div>\n      <PizzaIcon className={style[\"cart-successfull-order-icon\"]} />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport useCart from \"../../hooks/useCart\";\nimport { useFetcher } from \"../../hooks/useFetcher\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { getCartPrice } from \"../../helpers/getPrice\";\nimport { Loader } from \"../../components/Loader/Loader\";\nimport { CurrentCurrencyIcon } from \"../../components/CurrentCurrencyIcon/CurrentCurrencyIcon\";\nimport { CreateOrderForm } from \"../../components/CreateOrderForm/CreateOrderForm\";\nimport { CatalogItem } from \"../../components/CatalogItem/CatalogItem\";\nimport { Title } from \"../../components/Title/Title\";\nimport { CartSuccessfullOrder } from \"./CartSuccessfullOrder/CartSuccessfullOrder\";\nimport { TProductsData, TDelivery } from \"../../types\";\nimport style from \"./Cart.module.css\";\n\ntype TDeliveryData = {\n  delivery: TDelivery[];\n};\n\ntype TInputs = {\n  name: string;\n  address: string;\n  phone: string;\n};\n\nexport function Cart() {\n  const { cart, clearCart } = useCart();\n  const fetcher = useFetcher();\n  const { currency } = useCurrency();\n\n  const [isSuccessfullOrder, serIsSuccessfullOrder] = useState(false);\n  const [serverError, setServerError] = useState(false);\n\n  const urlGetProducts = `/product?ids=${Object.keys(cart).join(\"=\")}`;\n\n  const { data: dataProducts, error: dataProductsError } = useSWR<\n    TProductsData\n  >(urlGetProducts);\n  const { data: dataDelivery, error: dataDeliveryError } = useSWR<\n    TDeliveryData\n  >(\"/delivery\");\n\n  const onSubmit = async (data: TInputs) => {\n    const order = {\n      ...data,\n      orders: Object.entries(cart).map(([key, value]) => ({\n        id: key,\n        quantity: value,\n      })),\n    };\n\n    try {\n      await fetcher(\"/order/create_order\", {\n        method: \"POST\",\n        body: JSON.stringify(order),\n      });\n\n      clearCart();\n      serIsSuccessfullOrder(true);\n    } catch (err) {\n      setServerError(true);\n    }\n  };\n\n  if (dataProductsError || dataDeliveryError)\n    return (\n      <div className={style[\"cart-error\"]}>\n        Something went wrong, please try again\n      </div>\n    );\n\n  if (dataProducts && dataDelivery) {\n    const delivery = dataDelivery.delivery[0];\n    const products = dataProducts.products;\n\n    return (\n      <div className={style[\"cart\"]}>\n        {products.length > 0 ? (\n          <>\n            <Title size=\"second\" text=\"Your order\" />\n            <div className={style[\"cart-list\"]}>\n              {products.map((item) => (\n                <CatalogItem key={item.id} {...item} isRow={true} />\n              ))}\n\n              <div className={style[\"cart-info\"]}>\n                <span className={style[\"cart-info-title\"]}>Delivery: </span>\n                {currency === \"usd\"\n                  ? delivery.delivery_usd\n                  : delivery.delivery_eur}{\" \"}\n                <CurrentCurrencyIcon />\n              </div>\n              <div>\n                <span className={style[\"cart-info-title\"]}>Total price: </span>\n                {getCartPrice(products, cart, currency, delivery)}{\" \"}\n                <CurrentCurrencyIcon />\n              </div>\n            </div>\n\n            <CreateOrderForm onSubmit={onSubmit} serverError={serverError} />\n          </>\n        ) : (\n          <>\n            {isSuccessfullOrder && <CartSuccessfullOrder />}\n            {!isSuccessfullOrder && <div>Your cart is empty</div>}\n          </>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={style[\"cart-loader\"]}>\n      <Loader />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory, RouteComponentProps } from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { useFetcher } from \"../../hooks/useFetcher\";\nimport { Input } from \"../../components/Input/Input\";\nimport { Form } from \"../../components/Form/Form\";\nimport { emailPattern } from \"../../constants\";\nimport style from \"./Login.module.css\";\n\ntype TInputs = {\n  email: string;\n  password: string;\n};\n\nexport function Login(props: RouteComponentProps) {\n  const history = useHistory();\n  const fetcher = useFetcher();\n\n  const cameFrom = props.location.search.replace(\"?cameFrom=\", \"\");\n  const [serverError, setServerError] = useState(false);\n\n  const { toggleAuthorised } = useAuth();\n\n  const onSubmit = async (data: TInputs) => {\n    try {\n      await fetcher(\"/user/auth/login\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n      });\n\n      toggleAuthorised(true);\n      if (cameFrom === \"cart\") {\n        history.push(`/${cameFrom}`);\n      } else {\n        history.push(\"/user\");\n      }\n    } catch (err) {\n      setServerError(true);\n    }\n  };\n\n  return (\n    <div className={style[\"login\"]}>\n      <Form<TInputs>\n        onSubmit={onSubmit}\n        header=\"Log in\"\n        customClassName={serverError ? \"server-error\" : \"\"}\n      >\n        {serverError && (\n          <span className={style[\"login-error\"]}>\n            Your email or login are incorrect\n          </span>\n        )}\n\n        <Input\n          name=\"email\"\n          rules={{ required: true, pattern: emailPattern }}\n          errorMessages={{\n            pattern: \"Please check your email\",\n          }}\n        />\n\n        <Input name=\"password\" rules={{ required: true }} />\n      </Form>\n    </div>\n  );\n}\n","export const getFormatedDate = (date: string) => {\n  const resDate = new Date(date);\n  const month =\n    resDate.getMonth() + 1 >= 10\n      ? resDate.getMonth() + 1\n      : \"0\" + (resDate.getMonth() + 1);\n  const day =\n    resDate.getDate() >= 10 ? resDate.getDate() : \"0\" + resDate.getDate();\n  return day + \".\" + month + \".\" + resDate.getFullYear();\n};\n","import React, { ReactNode } from \"react\";\nimport style from \"./OrderPageInfo.module.css\";\n\ntype TProps = {\n  title: string;\n  value?: string;\n  children?: ReactNode;\n};\n\nexport function OrderPageInfo({ title, value, children }: TProps) {\n  return (\n    <div className={style[\"order-page-info\"]}>\n      <span className={style[\"order-page-info-title\"]}>{title}</span>\n      {value}\n      {children}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { getOrderPrice } from \"../../helpers/getPrice\";\nimport { getFormatedDate } from \"../../helpers/getFormatedDate\";\nimport { Layout } from \"../../components/Layout/Layout\";\nimport { CatalogItem } from \"../../components/CatalogItem/CatalogItem\";\nimport { Title } from \"../../components/Title/Title\";\nimport { OrderPageInfo } from \"./OrderPageInfo/OrderPageInfo\";\nimport { CurrentCurrencyIcon } from \"../../components/CurrentCurrencyIcon/CurrentCurrencyIcon\";\nimport { TOrder } from \"../../types\";\nimport style from \"./OrderPage.module.css\";\n\ntype TDate<T> = {\n  order: T;\n};\n\nexport function OrderPage(props: RouteComponentProps<{ orderId: string }>) {\n  const { currency } = useCurrency();\n\n  return (\n    <Layout<TDate<TOrder>> url={`/order/${props.match.params.orderId}`}>\n      {(data) => {\n        const {\n          delivery_eur,\n          delivery_usd,\n          order_date,\n          order_items,\n          user_address,\n        } = data.order;\n\n        return (\n          <div className={style[\"order-page\"]}>\n            <h2 className={style[\"order-page-title\"]}>Your order</h2>\n            <OrderPageInfo title=\"Ordered to:\" value={user_address} />\n            <OrderPageInfo title=\"Date:\" value={getFormatedDate(order_date)} />\n            <OrderPageInfo title=\"Delivery price:\">\n              {currency === \"usd\" ? delivery_usd : delivery_eur}{\" \"}\n              <CurrentCurrencyIcon />\n            </OrderPageInfo>\n\n            <OrderPageInfo title=\"Total price:\">\n              {getOrderPrice(order_items, currency, [\n                data.order.delivery_usd,\n                data.order.delivery_eur,\n              ])}{\" \"}\n              <CurrentCurrencyIcon />\n            </OrderPageInfo>\n\n            <Title size=\"third\" text={`Order items:`} />\n            {order_items.map((item) => (\n              <CatalogItem\n                key={item.product[0].id}\n                {...item.product[0]}\n                quantity={item.quantity}\n                isRow={true}\n                isOrder={true}\n              />\n            ))}\n          </div>\n        );\n      }}\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { getOrderPrice } from \"../../helpers/getPrice\";\nimport { CurrentCurrencyIcon } from \"../CurrentCurrencyIcon/CurrentCurrencyIcon\";\nimport { TOrderItem } from \"../../types\";\nimport style from \"./OrderItem.module.css\";\n\ntype TProps = {\n  id: string;\n  orderItems: TOrderItem[];\n  delivery_usd: number;\n  delivery_eur: number;\n};\n\nexport function OrderItem({\n  id,\n  orderItems,\n  delivery_usd,\n  delivery_eur,\n}: TProps) {\n  const { currency } = useCurrency();\n\n  return (\n    <div className={style[\"order-item\"]}>\n      <div className={style[\"order-item-row\"]}>\n        <span className={style[\"order-item-row-title\"]}>Order №</span>\n        {id}\n      </div>\n      <div className={style[\"order-item-row\"]}>\n        <span className={style[\"order-item-row-title\"]}>\n          Products in order:\n        </span>\n        {orderItems.length}\n      </div>\n      <div className={style[\"order-item-price\"]}>\n        {getOrderPrice(orderItems, currency, [delivery_usd, delivery_eur])}{\" \"}\n        <CurrentCurrencyIcon />\n      </div>\n      <Link key={id} to={`/order/${id}`} className={style[\"order-item-link\"]} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useCookies } from \"react-cookie\";\nimport useSWR from \"swr\";\nimport useCart from \"../../hooks/useCart\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { PrimaryButton } from \"../../components/PrimaryButton/PrimaryButton\";\nimport { OrderItem } from \"../../components/OrderItem/OrderItem\";\nimport { Title } from \"../../components/Title/Title\";\nimport { Loader } from \"../../components/Loader/Loader\";\nimport { TOrder } from \"../../types\";\nimport style from \"./User.module.css\";\n\ntype TUser = {\n  data: {\n    createdAt: string;\n    updatedAt: string;\n    id: string;\n    email: string;\n    name: string;\n    lastLogin: string;\n    isActive: string;\n  };\n  success: string;\n};\n\ntype TOrders = {\n  orders: TOrder[];\n};\n\nexport function User() {\n  const { clearCart } = useCart();\n  const { clearAuth } = useAuth();\n\n  let history = useHistory();\n\n  // eslint-disable-next-line\n  const [cookies, setCookie, removeCookie] = useCookies([\"user\"]);\n\n  const { data: dataUser, error: dataError } = useSWR<TUser, any>(\n    \"/user/auth/me\"\n  );\n\n  const { data: dataOrders, error: errorOrders } = useSWR<TOrders>(\"/order\");\n\n  const logOut = () => {\n    removeCookie(\"user\");\n    clearAuth();\n    clearCart();\n    history.push(\"/login\");\n  };\n\n  if (dataError) {\n    return (\n      <div className={`${style[\"user\"]} ${style[\"user-center\"]}`}>\n        {dataError.message}\n      </div>\n    );\n  }\n\n  if (dataUser) {\n    return (\n      <div className={style[\"user\"]}>\n        <Title size=\"second\" text=\"Your profile\" />\n        <div className={style[\"user-info\"]}>\n          <span className={style[\"user-info-row-name\"]}>Name:</span>\n          {dataUser.data.name}\n        </div>\n        <div className={style[\"user-info\"]}>\n          <span className={style[\"user-info-row-name\"]}>Email:</span>\n          {dataUser.data.email}\n        </div>\n        <PrimaryButton\n          type=\"button\"\n          onClick={logOut}\n          text=\"Log out\"\n          propClass=\"user-button\"\n        />\n        {errorOrders && <div>Error in orders, try to reload a page</div>}\n        <Title size=\"third\" text=\"Your order history\" />\n        <div className={style[\"user-orders\"]}>\n          {dataOrders?.orders.length === 0 && (\n            <span>You haven't made any orders yet</span>\n          )}\n          {dataOrders?.orders.map((item) => (\n            <OrderItem key={item.id} orderItems={item.order_items} {...item} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${style[\"user\"]} ${style[\"user-center\"]}`}>\n      <Loader />\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport useCurrency from \"../../hooks/useCurrency\";\nimport { TCurrency } from \"../../types\";\nimport { currencyMap } from \"../../constants\";\nimport style from \"./CurrencyDropdown.module.css\";\n\nexport function CurrencyDropdown() {\n  const { currency, toggleCurrency } = useCurrency();\n\n  const [isOpened, setIsOpened] = useState(false);\n\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (ref.current && !ref.current.contains(event.target as HTMLElement)) {\n        setIsOpened(() => false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref]);\n\n  const onOptionClicked = (option: TCurrency) => {\n    toggleCurrency(option);\n    setIsOpened(false);\n  };\n\n  return (\n    <div className={style[\"currency-dropdown\"]} ref={ref}>\n      <div\n        className={style[\"currency-dropdown-preview\"]}\n        onClick={() => setIsOpened((isOpened) => !isOpened)}\n      >\n        {currencyMap[currency]}\n      </div>\n      {isOpened && (\n        <ul className={style[\"currency-dropdown-list\"]}>\n          {Object.entries(currencyMap)\n            .filter(([key]) => key !== currency)\n            .map(([key, val]) => (\n              <li\n                key={key}\n                className={style[\"currency-dropdown-list-item\"]}\n                onClick={() => onOptionClicked(key as TCurrency)}\n              >\n                {val}\n              </li>\n            ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256 219.988c5.52 0 10-4.48 10-10s-4.48-10-10-10-10 4.48-10 10 4.48 10 10 10zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M472 139.988h-59.137L321.895 14.836c-8.172-14.004-26.172-18.988-40.47-11.07-14.491 8.05-19.702 26.304-11.648 40.8.23.41.485.805.77 1.18l71.351 94.242H170.102l71.351-94.242c.281-.375.54-.77.77-1.18 8.035-14.46 2.882-32.73-11.66-40.808-14.266-7.903-32.266-2.922-40.454 11.07l-90.972 125.16H40c-22.055 0-40 17.946-40 40 0 17.395 11.29 32.54 27.191 37.899a9.956 9.956 0 006.118 2.101c.46 0 .894.028 1.347.09a9.971 9.971 0 018.496 8.117l34.02 187.164c2.598 14.27 15.012 24.63 29.52 24.63h298.617c14.507 0 26.921-10.36 29.52-24.634L468.847 228.2a9.976 9.976 0 018.515-8.12c.438-.063.871-.09 1.328-.09 2.32 0 4.454-.798 6.149-2.126 15.914-5.394 27.16-20.511 27.16-37.875 0-22.054-17.945-40-40-40zM286.988 34.328c-2.285-4.73-.511-10.492 4.137-13.07 4.84-2.684 10.941-.953 13.61 3.855.195.36.417.703.656 1.032l82.746 113.843H366.98zm-80.379-8.18c.239-.328.454-.668.653-1.02 2.676-4.812 8.781-6.546 13.601-3.878 4.657 2.586 6.438 8.34 4.149 13.078l-79.992 105.66h-21.157zM472 199.988H296c-5.523 0-10 4.477-10 10 0 5.524 4.477 9.899 10 9.899h154.398a30.359 30.359 0 00-1.226 4.633l-34.024 187.257a9.995 9.995 0 01-9.84 8.211H106.692a10 10 0 01-9.843-8.207l-34.02-187.164a30.19 30.19 0 00-1.226-4.629H216c5.523 0 10-4.476 10-10 0-5.523-4.477-10-10-10H40c-11.121 0-20-9.062-20-20 0-11.027 8.973-20 20-20h432c11.027 0 20 8.973 20 20 0 11.106-9.086 20-20 20zm0 0\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256 249.988c-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30s30-13.457 30-30v-80c0-16.574-13.426-30-30-30zm10 110c0 5.516-4.484 10-10 10s-10-4.484-10-10v-80c0-5.515 4.484-10 10-10 5.52 0 10 4.48 10 10zm0 0M356 389.988c16.543 0 30-13.457 30-30v-80c0-16.574-13.426-30-30-30-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30zm-10-110c0-5.515 4.484-10 10-10 5.52 0 10 4.48 10 10v80c0 5.516-4.484 10-10 10s-10-4.484-10-10zm0 0M156 249.988c-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30s30-13.457 30-30v-80c0-16.574-13.426-30-30-30zm10 110c0 5.516-4.484 10-10 10s-10-4.484-10-10v-80c0-5.515 4.484-10 10-10 5.52 0 10 4.477 10 10zm0 0\"\n});\n\nvar SvgBasketIcon = function SvgBasketIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 -36 512.001 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBasketIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/basketIcon.c92a8375.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\nimport useCart from \"../../hooks/useCart\";\nimport { CurrencyDropdown } from \"../CurrencyDropdown/CurrencyDropdown\";\nimport { ReactComponent as BasketIcon } from \"./assets/basketIcon.svg\";\nimport style from \"./Navigation.module.css\";\n\nexport function Navigation() {\n  const { isAuthorised } = useAuth();\n  const { cart } = useCart();\n\n  return (\n    <div className={style[\"navigation\"]}>\n      <div className={style[\"navigation-inner\"]}>\n        <Link to=\"/\" className={style[\"navigation-logo\"]}>\n          PIZZA\n        </Link>\n        <Link to=\"/\" className={style[\"navigation-link\"]}>\n          menu\n        </Link>\n        {isAuthorised ? (\n          <Link to=\"/user\" className={style[\"navigation-link\"]}>\n            user\n          </Link>\n        ) : (\n          <Link to=\"/login\" className={style[\"navigation-link\"]}>\n            login\n          </Link>\n        )}\n        <CurrencyDropdown />\n        <Link to=\"/cart\" className={style[\"navigation-cart\"]}>\n          <div className={style[\"navigation-cart-icon-wrapper\"]}>\n            <BasketIcon className={style[\"navigation-cart-icon\"]} />\n            {Object.keys(cart).length > 0 && (\n              <span className={style[\"navigation-cart-counter\"]}>\n                {Object.keys(cart).length}\n              </span>\n            )}\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { CookiesProvider } from \"react-cookie\";\nimport { SWRConfig } from \"swr\";\nimport { useFetcher } from \"./hooks/useFetcher\";\nimport { ProtectedRoute } from \"./routes/ProtectedRoute\";\nimport { PublicRoute } from \"./routes/PublicRoute\";\nimport { Catalog } from \"./pages/Catalog/Catalog\";\nimport { CatalogItemPage } from \"./pages/CatalogItemPage/CatalogItemPage\";\nimport { Cart } from \"./pages/Cart/Cart\";\nimport { Login } from \"./pages/Login/Login\";\nimport { OrderPage } from \"./pages/OrderPage/OrderPage\";\nimport { User } from \"./pages/User/User\";\nimport { Navigation } from \"./components/Navigation/Navigation\";\nimport \"./styles/variables.css\";\nimport \"./styles/base.css\";\n\nfunction App() {\n  const fetcher = useFetcher();\n\n  return (\n    <div className=\"App\">\n      <CookiesProvider>\n        <SWRConfig\n          value={{\n            fetcher,\n          }}\n        >\n          <Router>\n            <Navigation />\n            <Switch>\n              <Route path=\"/\" component={Catalog} exact />\n              <Route\n                path=\"/product/:productId\"\n                component={CatalogItemPage}\n                exact\n              />\n              <Route path=\"/cart\" component={Cart} exact />\n              <PublicRoute path=\"/login\" component={Login} exact />\n              <ProtectedRoute\n                path=\"/order/:orderId\"\n                component={OrderPage}\n                exact\n              />\n              <ProtectedRoute path=\"/user\" component={User} exact />\n            </Switch>\n          </Router>\n        </SWRConfig>\n      </CookiesProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}