(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={"catalog-item":"CatalogItem_catalog-item__1qMJU","catalog-item-row":"CatalogItem_catalog-item-row__VyXJp","catalog-item-img-wrapper":"CatalogItem_catalog-item-img-wrapper__2H_Mc","catalog-item-img":"CatalogItem_catalog-item-img__6fFmj","catalog-item-link":"CatalogItem_catalog-item-link__3cn9s","catalog-item-description":"CatalogItem_catalog-item-description__1_5XM","catalog-item-name-wrapper":"CatalogItem_catalog-item-name-wrapper__3WILL","catalog-item-name":"CatalogItem_catalog-item-name__18QKr","catalog-item-full-link":"CatalogItem_catalog-item-full-link__3Cv5J","catalog-item-quantity":"CatalogItem_catalog-item-quantity__3orUN"}},,,,,function(e,t,a){e.exports={user:"User_user__2CQna grid_grid-center__148vV","user-center":"User_user-center__2nphX","user-info":"User_user-info__1Bmkh","user-info-row-name":"User_user-info-row-name__E89Ob"}},function(e,t,a){e.exports={navigation:"Navigation_navigation__1VtLy","navigation-inner":"Navigation_navigation-inner__HVzr2 grid_grid-center__148vV","navigation-logo":"Navigation_navigation-logo__25OeF","navigation-cart":"Navigation_navigation-cart__3WUJx","navigation-cart-icon-wrapper":"Navigation_navigation-cart-icon-wrapper__14rzh","navigation-cart-icon":"Navigation_navigation-cart-icon__11jvH","navigation-cart-counter":"Navigation_navigation-cart-counter__37dfh","navigation-link":"Navigation_navigation-link__nBeE7"}},,function(e,t,a){e.exports={"button-add-product":"ButtonAddProduct_button-add-product__2cJfF","button-add-product-empty":"ButtonAddProduct_button-add-product-empty__tJYl2","button-add-product-light":"ButtonAddProduct_button-add-product-light__29eAN","button-add-product-icon-wrapper":"ButtonAddProduct_button-add-product-icon-wrapper__1Q7FG","button-add-product-icon":"ButtonAddProduct_button-add-product-icon__egFcc","button-add-product-number":"ButtonAddProduct_button-add-product-number__10GLT","catalog-item-page-button":"ButtonAddProduct_catalog-item-page-button__3GVli"}},function(e,t,a){e.exports={"input-places":"InputPlaces_input-places__2eKUe","input-places-input":"InputPlaces_input-places-input__ky2-5","input-places-error":"InputPlaces_input-places-error__3o76w","input-places-label":"InputPlaces_input-places-label__2nTsp","input-places-error-message":"InputPlaces_input-places-error-message__18PCn","input-places-suggestions-wrapper":"InputPlaces_input-places-suggestions-wrapper__1u-N3","input-places-suggestion":"InputPlaces_input-places-suggestion__2KlgQ"}},function(e,t,a){e.exports={cart:"Cart_cart__3jxrl grid_grid-center__148vV","cart-list":"Cart_cart-list__187jb","cart-server-error":"Cart_cart-server-error__3gUlx","cart-info":"Cart_cart-info__2y9vD","cart-info-title":"Cart_cart-info-title__2W0aw","cart-loader":"Cart_cart-loader__32qdh","cart-error":"Cart_cart-error__2ciUI"}},function(e,t,a){e.exports={"order-item":"OrderItem_order-item__3hH0W","order-item-link":"OrderItem_order-item-link__29xiX","order-item-row":"OrderItem_order-item-row__1l32I","order-item-row-title":"OrderItem_order-item-row-title__3ZTTA","order-item-price":"OrderItem_order-item-price__z3AGW"}},,,function(e,t,a){e.exports={"catalog-item-page":"CatalogItemPage_catalog-item-page__ouiBc grid_grid-center__148vV","catalog-item-page-img-wrapper":"CatalogItemPage_catalog-item-page-img-wrapper__3iK9j","catalog-item-page-img":"CatalogItemPage_catalog-item-page-img__34noC","catalog-item-page-name-wrapper":"CatalogItemPage_catalog-item-page-name-wrapper__1-8bB","catalog-item-page-pricing-wrapper":"CatalogItemPage_catalog-item-page-pricing-wrapper__1Klfo","catalog-item-page-price":"CatalogItemPage_catalog-item-page-price__G65SY"}},function(e,t,a){e.exports={input:"Input_input__3PNbO","input-input":"Input_input-input__3HqYa","input-error":"Input_input-error__3CNnF","input-label":"Input_input-label__2UXPB","input-error-message":"Input_input-error-message__2mvcT"}},,function(e,t,a){"use strict";(function(e){var r=a(0),n=a(60),c=a(51);t.a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.localStorage;if(a){var o=Object(c.a)(a);return function(e){return Object(n.a)(e,t,o)}}return r.useState}}).call(this,a(31))},,,,function(e,t,a){e.exports={"cart-successfull-order":"CartSuccessfullOrder_cart-successfull-order__x46u5","cart-successfull-order-text":"CartSuccessfullOrder_cart-successfull-order-text__2OoyE","cart-successfull-order-icon":"CartSuccessfullOrder_cart-successfull-order-icon__30d7x"}},function(e,t,a){e.exports={"currency-dropdown":"CurrencyDropdown_currency-dropdown__5tnK7","currency-dropdown-list":"CurrencyDropdown_currency-dropdown-list__2l6Xk","currency-dropdown-preview":"CurrencyDropdown_currency-dropdown-preview__2XFU8","currency-dropdown-list-item":"CurrencyDropdown_currency-dropdown-list-item__1TMKO"}},,,,,,,,function(e,t,a){e.exports={"layout-grid":"Layout_layout-grid__3_lQa grid_grid-center__148vV"}},function(e,t,a){e.exports={"title-h1":"Title_title-h1__3i-Vh","title-h2":"Title_title-h2__f1ckY","title-h3":"Title_title-h3__Oklr0","title-light":"Title_title-light__DOYxi"}},function(e,t,a){e.exports={"catalog-category":"CatalogCategory_catalog-category__2Y7AA","catalog-category-wrapper":"CatalogCategory_catalog-category-wrapper__2ZwpH"}},function(e,t,a){e.exports={"primary-button":"PrimaryButton_primary-button__hTpEY","user-button":"PrimaryButton_user-button__1HXtn"}},function(e,t,a){e.exports={form:"Form_form__2TM1N","server-error":"Form_server-error__14Yhb"}},function(e,t,a){e.exports={login:"Login_login__3IC9Q grid_grid-center__148vV","login-form":"Login_login-form__1oAzn","login-error":"Login_login-error__2J0xo"}},function(e,t,a){e.exports={"order-page-info":"OrderPageInfo_order-page-info__2y7Tw","order-page-info-title":"OrderPageInfo_order-page-info-title__ThbmI"}},function(e,t,a){e.exports={"order-page":"OrderPage_order-page__39fE2 grid_grid-center__148vV","order-page-title":"OrderPage_order-page-title__3r145"}},,,,,,function(e,t,a){"use strict";t.a=function(e){return{get:function(t,a){var r=e.getItem(t);return null===r?"function"===typeof a?a():a:JSON.parse(r)},set:function(t,a){e.setItem(t,JSON.stringify(a))}}}},,function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs"}},function(e,t,a){e.exports={catalog:"Catalog_catalog__2RFAM grid_grid-center__148vV","catalog-items-wrapper":"Catalog_catalog-items-wrapper__1GIPn"}},,,function(e,t,a){e.exports={"form-header":"FormHeader_form-header__Ufwsa"}},function(e,t,a){},,function(e,t,a){"use strict";var r=a(1),n=a(0),c=a(50),o={},l=function(e,t,a){return o[e]||(o[e]={callbacks:[],value:a}),o[e].callbacks.push(t),{deregister:function(){var a=o[e].callbacks,r=a.indexOf(t);r>-1&&a.splice(r,1)},emit:function(a){o[e].value!==a&&(o[e].value=a,o[e].callbacks.forEach((function(e){t!==e&&e(a)})))}}};t.a=function(e,t,a){var o=a.get,i=a.set,u=Object(n.useRef)(null),s=Object(n.useState)((function(){return o(t,e)})),m=Object(r.a)(s,2),d=m[0],p=m[1];Object(c.a)("storage",(function(e){var a=e.key,r=e.newValue;if(a===t){var n=JSON.parse(r);d!==n&&p(n)}})),Object(n.useEffect)((function(){return u.current=l(t,p,e),function(){u.current.deregister()}}),[e,t]);var g=Object(n.useCallback)((function(e){var a="function"===typeof e?e(d):e;i(t,a),p(a),u.current.emit(e)}),[d,i,t]);return[d,g]}},function(e,t,a){e.exports=a(73)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(48),o=a.n(c),l=a(4),i=a(3),u=a(75),s=a(15),m=a(2),d=a.n(m),p=a(12),g=a(7),f=a(1),v=a(74),_=a(25),E=Object(_.a)("isAuthorised"),b=function(){var e=Object(v.a)(["user"]),t=Object(f.a)(e,1)[0],a=E(Boolean(t.user)),r=Object(f.a)(a,2),n=r[0],c=r[1];return{isAuthorised:n,toggleAuthorised:function(e){return c(e)},clearAuth:function(){return c(!1)}}};function h(){var e=b().clearAuth;return function(){var t=Object(g.a)(d.a.mark((function t(a,r){var n,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api"+a,Object(p.a)({headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"},r));case 2:if(403!==(o=t.sent).status&&401!==o.status){t.next=6;break}throw e(),new Error("Please login first!");case 6:if(o.ok){t.next=8;break}throw new Error("Something went wrong!");case 8:if(!(null===(n=o.headers)||void 0===n||null===(c=n.get("content-type"))||void 0===c?void 0:c.includes("application/json"))){t.next=14;break}return t.next=11,o.json();case 11:return t.abrupt("return",t.sent);case 14:return t.next=16,o.text();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function y(e){var t=e.component,a=e.path,r=e.exact,c=b().isAuthorised;return n.a.createElement(i.b,{path:a,exact:r,render:function(e){return c?n.a.createElement(t,e):n.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}})}function O(e){var t=e.component,a=e.path,r=e.exact,c=b().isAuthorised;return n.a.createElement(i.b,{path:a,exact:r,render:function(e){return c?n.a.createElement(i.a,{to:{pathname:"/user",state:{from:e.location}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(t,e))}})}var N=a(53),w=a.n(N);function j(){return n.a.createElement("div",{className:w.a.loader},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}var x=a(38),C=a.n(x);function k(e){var t=e.url,a=e.children,r=Object(s.b)(t),c=r.data,o=r.error;return o?n.a.createElement("div",{className:C.a["layout-grid"]},o.message):c?n.a.createElement(n.a.Fragment,null,a(c)):n.a.createElement("div",{className:C.a["layout-grid"]},n.a.createElement(j,null))}var I=a(39),P=a.n(I);function z(e){var t=e.size,a=e.text,r=e.light?P.a["title-light"]:"",c="h1";switch(t){case"second":c="h2";break;case"third":c="h3"}return n.a.createElement(c,{className:"".concat(P.a["title-".concat(c)]," ").concat(r)},a)}var S=Object(_.a)("currency"),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"usd",t=S(e),a=Object(f.a)(t,2),r=a[0],n=a[1];return{currency:r,toggleCurrency:function(e){return n((function(){return e}))},clearCurrency:function(){return n("usd")}}},M=a(6),T=Object(_.a)("cart"),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=T(e),a=Object(f.a)(t,2),r=a[0],n=a[1];return{cart:r,addProductToCart:function(e){return n((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(M.a)({},e,t[e]?t[e]+1:1))}))},removeProductFromCart:function(e){return n((function(t){if(t[e]>1)return Object(p.a)(Object(p.a)({},t),{},Object(M.a)({},e,t[e]-1));var a=Object(p.a)({},t);return delete a[e],a}))},clearCart:function(){return n({})}}};function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var R=n.a.createElement("defs",null),V=n.a.createElement("path",{d:"M437.332.168H32c-17.664 0-32 14.336-32 32V53.5c0 17.664 14.336 32 32 32h405.332c17.664 0 32-14.336 32-32V32.168c0-17.664-14.336-32-32-32zm0 0"}),q=function(e){var t=e.svgRef,a=e.title,r=B(e,["svgRef","title"]);return n.a.createElement("svg",F({viewBox:"0 -192 469.333 469",ref:t},r),a?n.a.createElement("title",null,a):null,R,V)},L=n.a.forwardRef((function(e,t){return n.a.createElement(q,F({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var J=n.a.createElement("defs",null),U=n.a.createElement("path",{d:"M408 184H272a8 8 0 01-8-8V40c0-22.09-17.91-40-40-40s-40 17.91-40 40v136a8 8 0 01-8 8H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h136a8 8 0 018 8v136c0 22.09 17.91 40 40 40s40-17.91 40-40V272a8 8 0 018-8h136c22.09 0 40-17.91 40-40s-17.91-40-40-40zm0 0"}),K=function(e){var t=e.svgRef,a=e.title,r=D(e,["svgRef","title"]);return n.a.createElement("svg",Y({viewBox:"0 0 448 448",ref:t},r),a?n.a.createElement("title",null,a):null,J,U)},X=n.a.forwardRef((function(e,t){return n.a.createElement(K,Y({svgRef:t},e))})),G=(a.p,a(16)),Q=a.n(G);function W(e){var t=e.id,a=e.ligth,r=e.customClassName,c=H(),o=c.cart[t]>0?"":Q.a["button-add-product-empty"],l=a?Q.a["button-add-product-light"]:"",i=r?Q.a[r]:"";return n.a.createElement("div",{className:"".concat(Q.a["button-add-product"]," ").concat(o," ").concat(l," ").concat(i)},n.a.createElement("div",{onClick:function(){return c.removeProductFromCart(t)},className:Q.a["button-add-product-icon-wrapper"]},n.a.createElement(L,{className:Q.a["button-add-product-icon"]})),n.a.createElement("div",{className:Q.a["button-add-product-number"]},c.cart[t]),n.a.createElement("div",{onClick:function(){return c.addProductToCart(t)},className:Q.a["button-add-product-icon-wrapper"]},n.a.createElement(X,{className:Q.a["button-add-product-icon"]})))}var Z={usd:"$",eur:"\u20ac"},$=/^((\+7|7|8)+([0-9]){10})$/,ee=/[^@]+@[^.]+\..+/g;function te(){var e=A().currency;return n.a.createElement("span",{className:"CurrentCurrencyIcon"},Z[e])}var ae=a(8),re=a.n(ae);function ne(e){var t=e.id,a=e.name,r=e.src,c=e.price_usd,o=e.price_eur,i=e.quantity,u=e.isRow,s=e.isOrder,m=A().currency,d=u?re.a["catalog-item-row"]:"",p=s?re.a["catalog-item-full-link"]:"";return n.a.createElement("div",{className:"".concat(re.a["catalog-item"]," ").concat(d," ").concat(p)},n.a.createElement("div",{className:re.a["catalog-item-img-wrapper"]},n.a.createElement("img",{src:r,alt:a,className:re.a["catalog-item-img"]}),!s&&n.a.createElement(l.b,{to:"/product/".concat(t),className:re.a["catalog-item-link"]})),n.a.createElement("div",{className:re.a["catalog-item-description"]},n.a.createElement("div",{className:re.a["catalog-item-name-wrapper"]},n.a.createElement("div",{className:re.a["catalog-item-name"]},a),!s&&n.a.createElement(W,{id:t}),s&&n.a.createElement("div",{className:re.a["catalog-item-quantity"]},"x ",i)),n.a.createElement("div",{className:re.a["catalog-item-description-price-wrapper"]},n.a.createElement("div",{className:re.a["catalog-item-price"]},"usd"===m?c:o," ",n.a.createElement(te,null))),s&&n.a.createElement(l.b,{to:"/product/".concat(t),className:re.a["catalog-item-link"]})))}var ce=a(40),oe=a.n(ce);function le(e){var t=e.title,a=e.category,r=e.data;return n.a.createElement("div",{className:oe.a["catalog-category"]},n.a.createElement(z,{size:"third",text:t}),n.a.createElement("div",{className:oe.a["catalog-category-wrapper"]},r.filter((function(e){return e.type===a})).map((function(e){var t=Object.assign({},e);return n.a.createElement(ne,Object.assign({key:t.id},t))}))))}var ie=a(54),ue=a.n(ie);function se(){return n.a.createElement(k,{url:"/product"},(function(e){return n.a.createElement("div",{className:ue.a.catalog},n.a.createElement(z,{size:"second",text:"Menu"}),n.a.createElement(le,{title:"Pizza",category:"pizza",data:e.products}),n.a.createElement(le,{title:"Drinks",category:"drink",data:e.products}))}))}var me=a(22),de=a.n(me);function pe(e){var t=A().currency;return n.a.createElement(k,{url:"/product/".concat(e.match.params.productId)},(function(a){var r=a.product;return n.a.createElement("div",{className:de.a["catalog-item-page"]},n.a.createElement("div",{className:de.a["catalog-item-page-img-wrapper"]},n.a.createElement("img",{src:r.src,alt:r.name,className:de.a["catalog-item-page-img"]}),n.a.createElement("div",{className:de.a["catalog-item-page-name-wrapper"]},n.a.createElement(z,{size:"first",text:r.name,light:!0}),n.a.createElement("p",{className:de.a["catalog-item-page-price"]},"usd"===t?r.price_usd:r.price_eur," ",n.a.createElement(te,null)))),n.a.createElement(W,{id:e.match.params.productId,ligth:!0,customClassName:"catalog-item-page-button"}),n.a.createElement("p",{className:de.a["catalog-item-page-description"]},r.description))}))}var ge=a(59);function fe(e,t){return"usd"===t?e.delivery_usd:e.delivery_eur}function ve(e,t,a){var r="usd"===t?"price_usd":"price_eur",n=Object(f.a)(a,2),c=fe({delivery_usd:n[0],delivery_eur:n[1]},t);return e.reduce((function(e,t){return e+t[r]*t.quantity}),0)+c}var _e=a(20),Ee=a(23),be=a.n(Ee);function he(e){var t=e.name,a=e.rules,r=e.errorMessages,c=Object(_e.c)(),o=c.errors,l=c.register,i=o[t]?be.a["input-error"]:"";return n.a.createElement("div",{className:"".concat(be.a.input," ").concat(i)},n.a.createElement("label",{htmlFor:t,className:be.a["input-label"]},t),n.a.createElement("input",{id:t,name:t,ref:l(a),className:be.a["input-input"]}),o[t]&&n.a.createElement(n.a.Fragment,null,"required"===o[t].type?n.a.createElement("span",{className:be.a["input-error-message"]},"This field is required"):n.a.createElement("span",{className:be.a["input-error-message"]},r&&r[o[t].type])))}var ye=a(55),Oe=a(56),Ne=a(17),we=a.n(Ne);function je(e){var t=e.name,a=e.rules,r=Object(ye.a)({debounce:300}),c=r.ready,o=r.value,l=r.suggestions,i=l.status,u=l.data,s=r.setValue,m=r.clearSuggestions,d=Object(_e.c)(),p=d.errors,g=d.register,f=Object(Oe.a)((function(){m()})),v=function(e){var t=e.description;return function(){s(t,!1),m()}},_=p.address?we.a["input-places-error"]:"";return n.a.createElement("div",{ref:f,className:"".concat(we.a["input-places"]," ").concat(_)},n.a.createElement("label",{htmlFor:t,className:we.a["input-places-label"]},"address"),n.a.createElement("input",{id:t,name:t,value:o,onChange:function(e){s(e.target.value)},disabled:!c,className:we.a["input-places-input"],ref:g(a)}),"OK"===i&&n.a.createElement("ul",{className:we.a["input-places-suggestions-wrapper"]},u.map((function(e){var t=e.id,a=e.structured_formatting,r=a.main_text,c=a.secondary_text;return n.a.createElement("li",{key:t,onClick:v(e),className:we.a["input-places-suggestion"]},n.a.createElement("strong",null,r)," ",n.a.createElement("small",null,c))}))),p[t]&&n.a.createElement(n.a.Fragment,null,"required"===p[t].type&&n.a.createElement("span",{className:we.a["input-places-error-message"]},"This field is required")))}var xe=a(57),Ce=a.n(xe);function ke(e){var t=e.header;return n.a.createElement("h2",{className:Ce.a["form-header"]},t)}var Ie=a(41),Pe=a.n(Ie);function ze(e){var t=e.text,a=e.type,r=e.onClick,c=e.propClass,o=c?Pe.a[c]:"";return n.a.createElement("input",{type:a||"submit",className:"".concat(Pe.a["primary-button"]," ").concat(o),value:t,onClick:r})}var Se=a(42),Ae=a.n(Se);function Me(e){var t=e.onSubmit,a=e.header,r=e.submitButtonText,c=e.children,o=e.customClassName,l=Object(_e.b)(),i=l.handleSubmit,u=o?Ae.a[o]:"";return n.a.createElement(_e.a,l,n.a.createElement("form",{onSubmit:i(t),className:"".concat(Ae.a.form," ").concat(u)},a&&n.a.createElement(ke,{header:a}),c,n.a.createElement(ze,{text:r})))}var Te=a(58),He=a.n(Te);function Fe(e){var t=e.onSubmit,a=e.serverError,r=b().isAuthorised;return n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(Me,{onSubmit:t,header:"Enter your delivery information",submitButtonText:"Proceed",customClassName:a?"server-error":""},a&&n.a.createElement("span",{className:He.a["cart-server-error"]},"Something went wrong, please try again"),n.a.createElement(he,{name:"name",rules:{required:!0}}),n.a.createElement(je,{name:"address",rules:{required:!0}}),n.a.createElement(he,{name:"phone",rules:{required:!0,pattern:$},errorMessages:{pattern:"Please check your phone number"}})),!r&&n.a.createElement("div",null,"To make an order, please ",n.a.createElement(l.b,{to:"/login?cameFrom=cart"},"log in")))}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ve=n.a.createElement("defs",null),qe=n.a.createElement("path",{fill:"#b39a7c",d:"M56 43H8l2-40h44z"}),Le=n.a.createElement("path",{fill:"#f3ac3c",d:"M45 30h-3v5a2 2 0 01-4 0v-5h-4v2a2 2 0 01-4 0v-2H14l25.37-17.82A30.843 30.843 0 0145 30z"}),Ye=n.a.createElement("path",{fill:"#806749",d:"M13 43h38v8H13z"}),De=n.a.createElement("path",{fill:"#ec455a",d:"M60 56v5H46v-5h12zM18 56v5H4v-5h12z"}),Je=n.a.createElement("path",{fill:"#d9ccbc",d:"M37 43l-.43 1.73A3.014 3.014 0 0133.66 47h-3.32a3.014 3.014 0 01-2.91-2.27L27 43z"}),Ue=n.a.createElement("path",{fill:"#ef8746",d:"M51 30h-6a30.843 30.843 0 00-5.63-17.82l4.9-3.45A36.8 36.8 0 0151 30z"}),Ke=n.a.createElement("circle",{cx:25,cy:28,r:2,fill:"#dd5528"}),Xe=n.a.createElement("path",{fill:"#dd5528",d:"M35 21a3 3 0 01-3-3 2.82 2.82 0 01.09-.71l3.22-2.27h.01A3 3 0 0135 21z"}),Ge=n.a.createElement("g",{fill:"#cc7400"},n.a.createElement("path",{d:"M28 23h2v2h-2zM39 22h2v2h-2zM33 26h2v2h-2z"})),Qe=n.a.createElement("path",{fill:"#f09898",d:"M17 49.47V52l-1 2v2H6l-1-4-1.323-1.98A4.006 4.006 0 013 47.79V38.4a4.15 4.15 0 01.08-.79l1.6-8A2 2 0 016.64 28H7a2 2 0 012 2v11.47a1.55 1.55 0 001.79-.46l1.98-2.47a2.142 2.142 0 013.71 2.01L15.66 43l-.4 1.21a1.982 1.982 0 00.11 1.53l1.42 2.84a1.991 1.991 0 01.21.89zM47 49.47V52l1 2v2h10l1-4 1.33-1.99A3.973 3.973 0 0061 47.8v-9.4a4.15 4.15 0 00-.08-.79l-1.6-8A2 2 0 0057.36 28H57a2 2 0 00-2 2v11.47a1.55 1.55 0 01-1.79-.46l-1.98-2.47a2.142 2.142 0 00-3.71 2.01l.82 2.45.4 1.21a1.982 1.982 0 01-.11 1.53l-1.42 2.84a1.991 1.991 0 00-.21.89z"}),We=function(e){var t=e.svgRef,a=e.title,r=Re(e,["svgRef","title"]);return n.a.createElement("svg",Be({viewBox:"0 0 64 64",ref:t},r),a?n.a.createElement("title",null,a):null,Ve,qe,Le,Ye,De,Je,Ue,Ke,Xe,Ge,Qe)},Ze=n.a.forwardRef((function(e,t){return n.a.createElement(We,Be({svgRef:t},e))})),$e=(a.p,a(29)),et=a.n($e);function tt(){return n.a.createElement("div",{className:et.a["cart-successfull-order"]},n.a.createElement("div",{className:et.a["cart-successfull-order-text"]},"Thank you for your order!"),n.a.createElement("div",{className:et.a["cart-successfull-order-text"]},"It's coming soon!"),n.a.createElement(Ze,{className:et.a["cart-successfull-order-icon"]}))}var at=a(18),rt=a.n(at);function nt(){var e=H(),t=e.cart,a=e.clearCart,c=h(),o=A().currency,l=Object(r.useState)(!1),i=Object(f.a)(l,2),u=i[0],m=i[1],v=Object(r.useState)(!1),_=Object(f.a)(v,2),E=_[0],b=_[1],y="/product?ids=".concat(Object.keys(t).join("=")),O=Object(s.b)(y),N=O.data,w=O.error,x=Object(s.b)("/delivery"),C=x.data,k=x.error,I=function(){var e=Object(g.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)(Object(p.a)({},r),{},{orders:Object.entries(t).map((function(e){var t=Object(f.a)(e,2);return{id:t[0],quantity:t[1]}}))}),e.prev=1,e.next=4,c("/order/create_order",{method:"POST",body:JSON.stringify(n)});case 4:a(),m(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();if(w||k)return n.a.createElement("div",{className:rt.a["cart-error"]},"Something went wrong, please try again");if(N&&C){var P=C.delivery[0],S=N.products;return n.a.createElement("div",{className:rt.a.cart},S.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(z,{size:"second",text:"Your order"}),n.a.createElement("div",{className:rt.a["cart-list"]},S.map((function(e){return n.a.createElement(ne,Object.assign({key:e.id},e,{isRow:!0}))})),n.a.createElement("div",{className:rt.a["cart-info"]},n.a.createElement("span",{className:rt.a["cart-info-title"]},"Delivery: "),"usd"===o?P.delivery_usd:P.delivery_eur," ",n.a.createElement(te,null)),n.a.createElement("div",null,n.a.createElement("span",{className:rt.a["cart-info-title"]},"Total price: "),function(e,t,a,r){var n="usd"===a?"price_usd":"price_eur",c=(r.id,fe(Object(ge.a)(r,["id"]),a));return e.reduce((function(e,a){return e+a[n]*t[a.id]}),0)+c}(S,t,o,P)," ",n.a.createElement(te,null))),n.a.createElement(Fe,{onSubmit:I,serverError:E})):n.a.createElement(n.a.Fragment,null,u&&n.a.createElement(tt,null),!u&&n.a.createElement("div",null,"Your cart is empty")))}return n.a.createElement("div",{className:rt.a["cart-loader"]},n.a.createElement(j,null))}var ct=a(43),ot=a.n(ct);function lt(e){var t=Object(i.g)(),a=h(),c=e.location.search.replace("?cameFrom=",""),o=Object(r.useState)(!1),l=Object(f.a)(o,2),u=l[0],s=l[1],m=b().toggleAuthorised,p=function(){var e=Object(g.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/user/auth/login",{method:"POST",body:JSON.stringify(r)});case 3:m(!0),"cart"===c?t.push("/".concat(c)):t.push("/user"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:ot.a.login},n.a.createElement(Me,{onSubmit:p,header:"Log in",customClassName:u?"server-error":""},u&&n.a.createElement("span",{className:ot.a["login-error"]},"Your email or login are incorrect"),n.a.createElement(he,{name:"email",rules:{required:!0,pattern:ee},errorMessages:{pattern:"Please check your email"}}),n.a.createElement(he,{name:"password",rules:{required:!0}})))}var it=function(e){var t=new Date(e),a=t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1);return(t.getDate()>=10?t.getDate():"0"+t.getDate())+"."+a+"."+t.getFullYear()},ut=a(44),st=a.n(ut);function mt(e){var t=e.title,a=e.value,r=e.children;return n.a.createElement("div",{className:st.a["order-page-info"]},n.a.createElement("span",{className:st.a["order-page-info-title"]},t),a,r)}var dt=a(45),pt=a.n(dt);function gt(e){var t=A().currency;return n.a.createElement(k,{url:"/order/".concat(e.match.params.orderId)},(function(e){var a=e.order,r=a.delivery_eur,c=a.delivery_usd,o=a.order_date,l=a.order_items,i=a.user_address;return n.a.createElement("div",{className:pt.a["order-page"]},n.a.createElement("h2",{className:pt.a["order-page-title"]},"Your order"),n.a.createElement(mt,{title:"Ordered to:",value:i}),n.a.createElement(mt,{title:"Date:",value:it(o)}),n.a.createElement(mt,{title:"Delivery price:"},"usd"===t?c:r," ",n.a.createElement(te,null)),n.a.createElement(mt,{title:"Total price:"},ve(l,t,[e.order.delivery_usd,e.order.delivery_eur])," ",n.a.createElement(te,null)),n.a.createElement(z,{size:"third",text:"Order items:"}),l.map((function(e){return n.a.createElement(ne,Object.assign({key:e.product[0].id},e.product[0],{quantity:e.quantity,isRow:!0,isOrder:!0}))})))}))}var ft=a(19),vt=a.n(ft);function _t(e){var t=e.id,a=e.orderItems,r=e.delivery_usd,c=e.delivery_eur,o=A().currency;return n.a.createElement("div",{className:vt.a["order-item"]},n.a.createElement("div",{className:vt.a["order-item-row"]},n.a.createElement("span",{className:vt.a["order-item-row-title"]},"Order \u2116"),t),n.a.createElement("div",{className:vt.a["order-item-row"]},n.a.createElement("span",{className:vt.a["order-item-row-title"]},"Products in order:"),a.length),n.a.createElement("div",{className:vt.a["order-item-price"]},ve(a,o,[r,c])," ",n.a.createElement(te,null)),n.a.createElement(l.b,{key:t,to:"/order/".concat(t),className:vt.a["order-item-link"]}))}var Et=a(13),bt=a.n(Et);function ht(){var e=H().clearCart,t=b().clearAuth,a=Object(i.g)(),r=Object(v.a)(["user"]),c=Object(f.a)(r,3),o=(c[0],c[1],c[2]),l=Object(s.b)("/user/auth/me"),u=l.data,m=l.error,d=Object(s.b)("/order"),p=d.data,g=d.error;return m?n.a.createElement("div",{className:"".concat(bt.a.user," ").concat(bt.a["user-center"])},m.message):u?n.a.createElement("div",{className:bt.a.user},n.a.createElement(z,{size:"second",text:"Your profile"}),n.a.createElement("div",{className:bt.a["user-info"]},n.a.createElement("span",{className:bt.a["user-info-row-name"]},"Name:"),u.data.name),n.a.createElement("div",{className:bt.a["user-info"]},n.a.createElement("span",{className:bt.a["user-info-row-name"]},"Email:"),u.data.email),n.a.createElement(ze,{type:"button",onClick:function(){o("user"),t(),e(),a.push("/login")},text:"Log out",propClass:"user-button"}),g&&n.a.createElement("div",null,"Error in orders, try to reload a page"),n.a.createElement(z,{size:"third",text:"Your order history"}),n.a.createElement("div",{className:bt.a["user-orders"]},0===(null===p||void 0===p?void 0:p.orders.length)&&n.a.createElement("span",null,"You haven't made any orders yet"),null===p||void 0===p?void 0:p.orders.map((function(e){return n.a.createElement(_t,Object.assign({key:e.id,orderItems:e.order_items},e))})))):n.a.createElement("div",{className:"".concat(bt.a.user," ").concat(bt.a["user-center"])},n.a.createElement(j,null))}var yt=a(30),Ot=a.n(yt);function Nt(){var e=A(),t=e.currency,a=e.toggleCurrency,c=Object(r.useState)(!1),o=Object(f.a)(c,2),l=o[0],i=o[1],u=Object(r.useRef)(null);Object(r.useEffect)((function(){function e(e){u.current&&!u.current.contains(e.target)&&i((function(){return!1}))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]);return n.a.createElement("div",{className:Ot.a["currency-dropdown"],ref:u},n.a.createElement("div",{className:Ot.a["currency-dropdown-preview"],onClick:function(){return i((function(e){return!e}))}},Z[t]),l&&n.a.createElement("ul",{className:Ot.a["currency-dropdown-list"]},Object.entries(Z).filter((function(e){return Object(f.a)(e,1)[0]!==t})).map((function(e){var t=Object(f.a)(e,2),r=t[0],c=t[1];return n.a.createElement("li",{key:r,className:Ot.a["currency-dropdown-list-item"],onClick:function(){return a(r),void i(!1)}},c)}))))}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var xt=n.a.createElement("defs",null),Ct=n.a.createElement("path",{d:"M256 219.988c5.52 0 10-4.48 10-10s-4.48-10-10-10-10 4.48-10 10 4.48 10 10 10zm0 0"}),kt=n.a.createElement("path",{d:"M472 139.988h-59.137L321.895 14.836c-8.172-14.004-26.172-18.988-40.47-11.07-14.491 8.05-19.702 26.304-11.648 40.8.23.41.485.805.77 1.18l71.351 94.242H170.102l71.351-94.242c.281-.375.54-.77.77-1.18 8.035-14.46 2.882-32.73-11.66-40.808-14.266-7.903-32.266-2.922-40.454 11.07l-90.972 125.16H40c-22.055 0-40 17.946-40 40 0 17.395 11.29 32.54 27.191 37.899a9.956 9.956 0 006.118 2.101c.46 0 .894.028 1.347.09a9.971 9.971 0 018.496 8.117l34.02 187.164c2.598 14.27 15.012 24.63 29.52 24.63h298.617c14.507 0 26.921-10.36 29.52-24.634L468.847 228.2a9.976 9.976 0 018.515-8.12c.438-.063.871-.09 1.328-.09 2.32 0 4.454-.798 6.149-2.126 15.914-5.394 27.16-20.511 27.16-37.875 0-22.054-17.945-40-40-40zM286.988 34.328c-2.285-4.73-.511-10.492 4.137-13.07 4.84-2.684 10.941-.953 13.61 3.855.195.36.417.703.656 1.032l82.746 113.843H366.98zm-80.379-8.18c.239-.328.454-.668.653-1.02 2.676-4.812 8.781-6.546 13.601-3.878 4.657 2.586 6.438 8.34 4.149 13.078l-79.992 105.66h-21.157zM472 199.988H296c-5.523 0-10 4.477-10 10 0 5.524 4.477 9.899 10 9.899h154.398a30.359 30.359 0 00-1.226 4.633l-34.024 187.257a9.995 9.995 0 01-9.84 8.211H106.692a10 10 0 01-9.843-8.207l-34.02-187.164a30.19 30.19 0 00-1.226-4.629H216c5.523 0 10-4.476 10-10 0-5.523-4.477-10-10-10H40c-11.121 0-20-9.062-20-20 0-11.027 8.973-20 20-20h432c11.027 0 20 8.973 20 20 0 11.106-9.086 20-20 20zm0 0"}),It=n.a.createElement("path",{d:"M256 249.988c-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30s30-13.457 30-30v-80c0-16.574-13.426-30-30-30zm10 110c0 5.516-4.484 10-10 10s-10-4.484-10-10v-80c0-5.515 4.484-10 10-10 5.52 0 10 4.48 10 10zm0 0M356 389.988c16.543 0 30-13.457 30-30v-80c0-16.574-13.426-30-30-30-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30zm-10-110c0-5.515 4.484-10 10-10 5.52 0 10 4.48 10 10v80c0 5.516-4.484 10-10 10s-10-4.484-10-10zm0 0M156 249.988c-16.543 0-30 13.457-30 30v80c0 16.543 13.457 30 30 30s30-13.457 30-30v-80c0-16.574-13.426-30-30-30zm10 110c0 5.516-4.484 10-10 10s-10-4.484-10-10v-80c0-5.515 4.484-10 10-10 5.52 0 10 4.477 10 10zm0 0"}),Pt=function(e){var t=e.svgRef,a=e.title,r=jt(e,["svgRef","title"]);return n.a.createElement("svg",wt({viewBox:"0 -36 512.001 512",ref:t},r),a?n.a.createElement("title",null,a):null,xt,Ct,kt,It)},zt=n.a.forwardRef((function(e,t){return n.a.createElement(Pt,wt({svgRef:t},e))})),St=(a.p,a(14)),At=a.n(St);function Mt(){var e=b().isAuthorised,t=H().cart;return n.a.createElement("div",{className:At.a.navigation},n.a.createElement("div",{className:At.a["navigation-inner"]},n.a.createElement(l.b,{to:"/",className:At.a["navigation-logo"]},"PIZZA"),n.a.createElement(l.b,{to:"/",className:At.a["navigation-link"]},"menu"),e?n.a.createElement(l.b,{to:"/user",className:At.a["navigation-link"]},"user"):n.a.createElement(l.b,{to:"/login",className:At.a["navigation-link"]},"login"),n.a.createElement(Nt,null),n.a.createElement(l.b,{to:"/cart",className:At.a["navigation-cart"]},n.a.createElement("div",{className:At.a["navigation-cart-icon-wrapper"]},n.a.createElement(zt,{className:At.a["navigation-cart-icon"]}),Object.keys(t).length>0&&n.a.createElement("span",{className:At.a["navigation-cart-counter"]},Object.keys(t).length)))))}a(71),a(72);var Tt=function(){var e=h();return n.a.createElement("div",{className:"App"},n.a.createElement(u.a,null,n.a.createElement(s.a,{value:{fetcher:e}},n.a.createElement(l.a,null,n.a.createElement(Mt,null),n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/",component:se,exact:!0}),n.a.createElement(i.b,{path:"/product/:productId",component:pe,exact:!0}),n.a.createElement(i.b,{path:"/cart",component:nt,exact:!0}),n.a.createElement(O,{path:"/login",component:lt,exact:!0}),n.a.createElement(y,{path:"/order/:orderId",component:gt,exact:!0}),n.a.createElement(y,{path:"/user",component:ht,exact:!0}))))))};o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Tt,null)),document.getElementById("root"))}],[[61,1,2]]]);
//# sourceMappingURL=main.b91f647e.chunk.js.map